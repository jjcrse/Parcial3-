(()=>{"use strict";var e={156:function(e,n,t){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const s=o(t(461)),a=o(t(907)),i=o(t(172)),r=o(t(835)),d=o(t(192));customElements.define("meme-preview",s.default),customElements.define("upload-box",r.default),customElements.define("meme-showcase",i.default),customElements.define("meme-portal",a.default),customElements.define("home-panel",d.default)},172:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0});class t extends HTMLElement{memeItems=[];fetchIssue=!1;constructor(){super(),this.attachShadow({mode:"open"})}async connectedCallback(){await this.loadContent(),this.displayContent()}addMeme(e){this.memeItems.unshift(e),this.displayContent()}async loadContent(){try{this.memeItems=[{url:"https://example.com/meme1.jpg",type:"image/jpeg"},{url:"https://example.com/video1.mp4",type:"video/mp4"}]}catch(e){console.warn("Error cargando memes:",e),this.fetchIssue=!0}}displayContent(){if(!this.shadowRoot)return;const e=this.memeItems.length>0;if(this.shadowRoot.innerHTML=`\n      <style>\n        :host {\n          display: block;\n          font-family: system-ui, sans-serif;\n          padding: 1rem;\n          color: #fafafa;\n        }\n\n        .warning {\n          background: crimson;\n          padding: 1rem;\n          border-radius: 6px;\n          font-weight: 600;\n          margin-bottom: 1rem;\n        }\n\n        .meme-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n          gap: 1.2rem;\n        }\n\n        .nothing-here {\n          text-align: center;\n          padding: 2rem;\n          background: #2e2e2e;\n          border-radius: 8px;\n          color: #f0c674;\n        }\n      </style>\n\n      ${this.fetchIssue?'<div class="warning">Hubo un problema al obtener los memes. Intenta mÃ¡s tarde.</div>':""}\n\n      ${e?'<div class="meme-grid" id="memes-container"></div>':'<div class="nothing-here">No se han subido memes aÃºn. SÃ© el primero en compartir uno ðŸŽ‰</div>'}\n    `,e){const e=this.shadowRoot.getElementById("memes-container");e&&this.memeItems.forEach((n=>{const t=document.createElement("meme-preview");t.data=n,e.appendChild(t)}))}}}n.default=t},192:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0});class t extends HTMLElement{showcaseRef=null;constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.shadowRoot.innerHTML="\n      <section>\n        <meme-showcase></meme-showcase>\n        <upload-box></upload-box>\n      </section>\n    ",this.showcaseRef=this.shadowRoot.querySelector("meme-showcase");const e=this.shadowRoot.querySelector("upload-box");e&&e.addEventListener("media-added",(e=>{const n=e.detail;n?.files&&this.showcaseRef&&n.files.forEach((e=>{const n=e.type,t=URL.createObjectURL(e);this.showcaseRef.addMeme({url:t,type:n})}))}))}}n.default=t},461:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0});class t extends HTMLElement{mediaInfo=null;constructor(){super(),this.attachShadow({mode:"open"})}set data(e){this.mediaInfo=e,this.display()}display(){if(!this.shadowRoot||!this.mediaInfo)return;const{url:e,type:n}=this.mediaInfo,t=n.includes("video");this.shadowRoot.innerHTML=`\n        <style>\n          .wrapper {\n            background: #141414;\n            border-radius: 10px;\n            overflow: hidden;\n            box-shadow: 0 4px 8px rgba(0,0,0,0.25);\n            transition: scale 0.3s ease;\n          }\n  \n          .wrapper:hover {\n            scale: 1.02;\n          }\n  \n          .media {\n            width: 100%;\n            height: auto;\n            display: block;\n          }\n  \n          .vid {\n            object-fit: cover;\n          }\n  \n          .media-container {\n            position: relative;\n            aspect-ratio: 4/3;\n            background-color: #000;\n          }\n        </style>\n  \n        <div class="wrapper">\n          <div class="media-container">\n            ${t?`<video src="${e}" class="media vid" autoplay muted loop></video>`:`<img src="${e}" class="media" alt="Meme" />`}\n          </div>\n        </div>\n      `}}n.default=t},835:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0});class t extends HTMLElement{message="";files=[];constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.renderUI(),this.setEventHandlers()}setEventHandlers(){const e=this.shadowRoot.querySelector("#upload-form"),n=this.shadowRoot.querySelector("#media-input"),t=this.shadowRoot.querySelector(".thumb-container");e&&n&&t&&(n.addEventListener("change",(()=>{const e=Array.from(n.files||[]).filter((e=>e.size>0));this.files=e,this.message=0===e.length?"Bro no haz subido nada":"",this.updateMessage(),this.showPreviews(this.files,t)})),e.addEventListener("submit",(async n=>{if(n.preventDefault(),0===this.files.length)return this.message="Bro no haz subido nada",void this.updateMessage();try{for(const e of this.files)console.log("Uploading to Supabase:",e.name),await new Promise((e=>setTimeout(e,300)));this.dispatchEvent(new CustomEvent("media-added",{detail:{files:this.files},bubbles:!0,composed:!0})),this.files=[],this.message="",e.reset(),t.innerHTML="",this.updateMessage()}catch(e){console.error("Error al subir archivos:",e),this.message="No se pudieron subir los archivos.",this.updateMessage()}})))}updateMessage(){const e=this.shadowRoot.querySelector(".alert");e&&(e.textContent=this.message,e.classList.toggle("hidden",""===this.message))}showPreviews(e,n){n.innerHTML="",e.forEach((e=>{const t=document.createElement("div");if(t.className="mini-thumb",e.type.startsWith("image")){const n=document.createElement("img");n.src=URL.createObjectURL(e),n.onload=()=>URL.revokeObjectURL(n.src),n.className="preview-item",t.appendChild(n)}else if(e.type.startsWith("video")){const n=document.createElement("video");n.src=URL.createObjectURL(e),n.autoplay=!0,n.loop=!0,n.muted=!0,n.className="preview-item",n.onloadedmetadata=()=>URL.revokeObjectURL(n.src),t.appendChild(n)}const o=document.createElement("button");o.className="delete-thumb",o.textContent="Ã—",o.onclick=()=>{this.files=this.files.filter((n=>n!==e)),t.remove()},t.appendChild(o),n.appendChild(t)}))}renderUI(){this.shadowRoot.innerHTML=`\n      <style>\n        :host {\n          font-family: "Segoe UI", sans-serif;\n          display: block;\n          background: #1f1f2e;\n          padding: 1rem;\n          border-radius: 8px;\n          color: #f9f9f9;\n        }\n\n        .header {\n          font-size: 1.4rem;\n          margin-bottom: 0.5rem;\n          color: #00d8ff;\n        }\n\n        .alert {\n          background: #ff5050;\n          padding: 0.8rem;\n          border-radius: 4px;\n          color: white;\n          margin-bottom: 0.5rem;\n        }\n\n        .hidden {\n          display: none;\n        }\n\n        form {\n          display: flex;\n          flex-direction: column;\n          gap: 0.8rem;\n        }\n\n        input[type="file"] {\n          background: #2c2c3d;\n          border: 1px solid #444;\n          padding: 0.5rem;\n          border-radius: 4px;\n          color: #eee;\n        }\n\n        button[type="submit"] {\n          background: #00d8ff;\n          border: none;\n          padding: 0.6rem 1rem;\n          border-radius: 4px;\n          font-weight: bold;\n          cursor: pointer;\n          color: #101020;\n        }\n\n        .thumb-container {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));\n          gap: 0.6rem;\n          margin-top: 1rem;\n        }\n\n        .mini-thumb {\n          position: relative;\n          background: #292938;\n          border-radius: 6px;\n          overflow: hidden;\n          aspect-ratio: 1/1;\n        }\n\n        .preview-item {\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n        }\n\n        .delete-thumb {\n          position: absolute;\n          top: 5px;\n          right: 5px;\n          background: rgba(255, 0, 0, 0.7);\n          border: none;\n          color: white;\n          border-radius: 50%;\n          width: 20px;\n          height: 20px;\n          font-size: 0.75rem;\n          line-height: 1;\n          cursor: pointer;\n          display: none;\n        }\n\n        .mini-thumb:hover .delete-thumb {\n          display: block;\n        }\n      </style>\n\n      <div class="upload-wrapper">\n        <div class="alert ${this.message?"":"hidden"}">${this.message}</div>\n        <div class="header">Sube tu mejor meme</div>\n        <form id="upload-form">\n          <input id="media-input" name="media" type="file" accept="image/*,video/*" multiple />\n          <div class="thumb-container"></div>\n          <button type="submit">Enviar</button>\n        </form>\n      </div>\n    `}}n.default=t},907:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0});class t extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.shadowRoot.innerHTML='\n      <style>\n        :host {\n          display: block;\n          font-family: system-ui, sans-serif;\n          background-color: #111;\n          color: #eee;\n          min-height: 100vh;\n          padding: 1rem;\n        }\n\n        header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 1.5rem;\n        }\n\n        h1 {\n          margin: 0;\n          font-size: 1.8rem;\n          color: #00d8ff;\n        }\n\n        nav a {\n          margin-left: 1rem;\n          color: #ccc;\n          text-decoration: none;\n          font-weight: 500;\n        }\n\n        nav a:hover {\n          color: #00d8ff;\n        }\n\n        main {\n          display: flex;\n          flex-direction: column;\n          gap: 2rem;\n        }\n      </style>\n\n      <header>\n        <h1>MemeWall</h1>\n        <nav>\n          <a href="#home">Inicio</a>\n          \n        </nav>\n      </header>\n\n      <main id="main-content"></main>\n    ',window.addEventListener("hashchange",this.updateView.bind(this)),this.updateView()}updateView(){const e=window.location.hash.slice(1)||"home",n=this.shadowRoot.querySelector("#main-content");if(n.innerHTML="","upload"===e)n.appendChild(document.createElement("upload-box"));else{const e=document.createElement("home-panel");n.appendChild(e)}}}n.default=t}},n={};!function t(o){var s=n[o];if(void 0!==s)return s.exports;var a=n[o]={exports:{}};return e[o].call(a.exports,a,a.exports,t),a.exports}(156)})();